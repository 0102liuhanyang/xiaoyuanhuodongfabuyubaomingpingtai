# 接口文档

## 基础信息
- Base URL：`/api`
- 认证方式：`Authorization: Bearer <JWT>`
- 返回格式：`ApiResponse`

```json
{
  "code": 0,
  "message": "success",
  "data": {}
}
```

## 鉴权
### POST /auth/register
注册用户（默认 student）

### POST /auth/login
登录返回 token/roles/name

### GET /auth/profile
获取当前用户信息

## 活动
### GET /events
查询活动列表（分页、筛选）
参数：keyword, category, tags, start, end, status, sortBy, sortOrder, page, size

### GET /events/{id}
活动详情（含报名人数/我的报名状态）

### GET /events/mine
组织者/管理员的活动列表

### POST /events
创建活动（组织者默认草稿，管理员默认发布）

### PUT /events/{id}
更新活动（校验容量/状态）

### DELETE /events/{id}
下架活动

### POST /events/{id}/submit
提交审核（组织者）/直接发布（管理员）

### POST /events/{id}/archive
归档活动

### POST /events/{id}/checkin-code
生成签到码（code/validUntil/qrText）

### GET /events/{id}/stats
单活动统计（registered/waitlisted/checkedIn）

### GET /events/stats/overview
管理员汇总统计（orgId/startDate/endDate）

### GET /events/stats/orgs
管理员组织列表

### GET /events/admin/pending
管理员待审列表

### GET /events/admin/all
管理员全量活动列表

### POST /events/admin/{id}/approve
审核通过

### POST /events/admin/{id}/reject
审核驳回（可传 reason）

## 报名与签到
### POST /events/{eventId}/registrations
报名/候补

### DELETE /events/{eventId}/registrations/my
取消报名

### GET /registrations/my
我的报名

### GET /events/{eventId}/registrations
报名列表（分页/筛选）

### GET /events/registrations/organizer
组织者跨活动报名聚合

### GET /events/{eventId}/registrations/export
导出 CSV

### POST /events/{eventId}/checkin
签到（code 参数）

## 黑名单
### POST /admin/registrations/blacklist
添加黑名单

### DELETE /admin/registrations/blacklist/{userId}
删除黑名单

### GET /admin/registrations/blacklist
黑名单列表

## 通知
### GET /notifications
通知列表（分页）

### GET /notifications/unread-count
未读数

### POST /notifications/{id}/read
标记已读

### POST /notifications/broadcast
广播通知（管理员）

## 文件上传
### POST /files/upload
上传文件（multipart/form-data）
